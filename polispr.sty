\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{polispr}[2019/11/11 Kierunkowa paczka do pisania sprawozdań - styl dla sprawozdania]


\newif\if@withminted\@withmintedfalse
\DeclareOption{withminted}{
  \@withmintedtrue
}

\newif\if@shorttitle\@shorttitlefalse
\DeclareOption{short}{
  \@shorttitletrue
}

\ProcessOptions\relax

\if@withminted
\RequirePackage[minted]{polibase}
\else
\RequirePackage{polibase}
\fi

% university information
\def\univ{Politechnika Poznańska}
\def\faculty{Wydział Informatyki i Telekomunikacji}
\def\institute{Instytut Informatyki}

% titlepage information
\def\pretitle{Sprawozdanie z zajęć laboratoryjnych}

%create titlepage with university name and stuff
\if@shorttitle
\renewcommand{\maketitle}{
    \begin{center}
        \Large \pretitle
    \end{center}
    \setlength\tabcolsep{5mm}
    \begin{table}[ht]
        \centering
        \begin{tabular}{|r|p{12cm}|}
            \hline
            \textbf{Tytuł} & \@title 
            \\ \hline
            \textbf{Data} & \@date 
            \\ \hline
            \textbf{Autor} & \@author
            \\\hline
        \end{tabular}
        \vspace{2cm}
    \end{table}
}
\else
\makeatletter
\renewcommand{\maketitle}{\begin{titlepage}
    \pagestyle{empty}
    \pagenumbering{gobble}
    \begin{center}\small
        \LARGE\textbf{\MakeUppercase{\univ}}\\
        \Large\textsc{\faculty}\\
        \normalsize \institute
    \end{center}
    \vspace{5cm}
    \noindent
    \begin{center}
      \LARGE \@author
    \end{center}
    \vspace{7cm}
    \noindent
    \begin{center}
        \large \pretitle
    \end{center}
    \begin{center}
        \Large \textbf{\@title}
    \end{center}
    \vspace*{\stretch{6}}
    \begin{center}
        \@date
    \end{center}
  \end{titlepage}
}

\newcommand{\makelogotitle}{
    \begin{titlepage}
        \pagestyle{empty}
        \pagenumbering{gobble}
        \begin{figure}[ht]
            \centering
            \includegraphics{resources/logo.jpg}
        \end{figure}
        \vspace{1cm}
        \begin{center}\small
            \LARGE\textbf{\MakeUppercase{\univ}}\\
            \Large\textsc{\faculty}\\
            \normalsize \institute
        \end{center}
        \vspace{4cm}
        \noindent
        \begin{center}
          \LARGE \@author
        \end{center}
        \vspace{5cm}
        \noindent
        \begin{center}
            \large \pretitle
        \end{center}
        \begin{center}
            \Large \textbf{\@title}
        \end{center}
        \vspace*{\stretch{6}}
        \begin{center}
            \@date
        \end{center}
    \end{titlepage}
}
\fi